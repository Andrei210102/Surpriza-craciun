<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <title>Etapa 2 â€“ Challenge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #020617;
      --card-bg: #020617;
      --border: #1f2937;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.12);
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
      --danger: #f97373;
      --success: #22c55e;
      --transition: 0.25s ease;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #020617, #000);
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .wrap {
      width: 100%;
      max-width: 480px;
      background: var(--card-bg);
      border-radius: 24px;
      border: 1px solid var(--border);
      padding: 22px 20px 22px;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.7);
    }

    .title {
      font-size: 1.3rem;
      margin-bottom: 4px;
      text-align: center;
    }

    .subtitle {
      font-size: 0.86rem;
      color: var(--text-muted);
      text-align: center;
      margin-bottom: 16px;
    }

    .status {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-bottom: 10px;
      align-items: center;
    }

    .score {
      font-size: 0.85rem;
    }

    .timer {
      font-size: 0.85rem;
    }

    .timer span {
      font-weight: 600;
    }

    .timer.critical span {
      color: #f97373;
    }

    .timer.normal span {
      color: #38bdf8;
    }

    .question-box {
      margin-top: 8px;
      padding: 12px 12px 10px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: #020617;
    }

    .question-text {
      font-size: 0.95rem;
      margin-bottom: 10px;
    }

    .options {
      display: grid;
      gap: 8px;
      margin-bottom: 8px;
    }

    .option {
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid var(--border);
      background: #020617;
      color: var(--text-main);
      font-size: 0.88rem;
      cursor: pointer;
      text-align: left;
      transition: background var(--transition), border-color var(--transition),
        transform var(--transition), color var(--transition);
    }

    .option:hover {
      background: #030712;
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .option.correct {
      border-color: var(--success);
      background: rgba(34, 197, 94, 0.16);
      color: #bbf7d0;
    }

    .option.wrong {
      border-color: var(--danger);
      background: rgba(248, 113, 113, 0.12);
      color: #fecaca;
    }

    .message {
      font-size: 0.85rem;
      color: var(--text-muted);
      min-height: 24px;
      margin-top: 4px;
    }

    .next-btn {
      margin-top: 12px;
      width: 100%;
      border-radius: 999px;
      padding: 8px 12px;
      border: none;
      background: var(--accent);
      color: #020617;
      font-size: 0.92rem;
      font-weight: 500;
      cursor: pointer;
      transition: background var(--transition), transform var(--transition);
    }

    .next-btn:hover {
      background: #0ea5e9;
      transform: translateY(-1px);
    }

    .next-btn:disabled {
      opacity: 0.5;
      cursor: default;
      transform: none;
    }

    .final-box {
      display: none;
      margin-top: 18px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid var(--accent);
      background: var(--accent-soft);
      font-size: 0.95rem;
      text-align: center;
    }

    .continue-btn {
      margin-top: 10px;
      width: 100%;
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid var(--accent);
      background: transparent;
      color: var(--accent);
      font-size: 0.9rem;
      cursor: pointer;
      transition: background var(--transition), color var(--transition);
    }

    .continue-btn:hover {
      background: var(--accent);
      color: #020617;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1 class="title">Etapa 2 â€“ Challenge</h1>
    <p class="subtitle">
      Ai 10 secunde pentru fiecare Ã®ntrebare. RÄƒspunzi sau laÈ™i timpul sÄƒ expire.
    </p>

    <div class="status">
      <span id="qCounter">ÃŽntrebarea 1 / 4</span>
      <span class="timer normal" id="timerLabel">Timp rÄƒmas: <span id="timerValue">10</span>s</span>
      <span class="score" id="scoreLabel">Scor: 0</span>
    </div>

    <div class="question-box">
      <div class="question-text" id="questionText"></div>
      <div class="options" id="optionsContainer"></div>
      <div class="message" id="messageBox">Alege un rÄƒspuns.</div>
      <button class="next-btn" id="nextBtn" disabled>UrmÄƒtoarea Ã®ntrebare</button>
    </div>

    <div class="final-box" id="finalBox">
      Testul din etapa 2 este complet.<br />
      Accesul cÄƒtre etapa urmÄƒtoare a fost deblocat.
      <button class="continue-btn" id="continueBtn">
        Mergi la etapa 3
      </button>
    </div>
  </div>

  <script>
    // ðŸ”§ AICI modifici Ã®ntrebÄƒrile, rÄƒspunsurile È™i varianta corectÄƒ
    // Pune Ã®ntrebÄƒri la care È™tii cÄƒ Ruxandra are avantaj.
    const questions = [
      {
        text: "ÃŽNTREBARE 1 â€“ schimbÄƒ textul cu ce vrei tu.",
        options: [
          "RÄƒspuns A",
          "RÄƒspuns B (corect)",
          "RÄƒspuns C",
          "RÄƒspuns D"
        ],
        correctIndex: 1
      },
      {
        text: "ÃŽNTREBARE 2 â€“ exemplu.",
        options: [
          "VariantÄƒ 1 (corect)",
          "VariantÄƒ 2",
          "VariantÄƒ 3",
          "VariantÄƒ 4"
        ],
        correctIndex: 0
      },
      {
        text: "ÃŽNTREBARE 3 â€“ exemplu.",
        options: [
          "AAA",
          "BBB",
          "CCC (corect)",
          "DDD"
        ],
        correctIndex: 2
      },
      {
        text: "ÃŽNTREBARE 4 â€“ exemplu.",
        options: [
          "OpÈ›iune 1",
          "OpÈ›iune 2",
          "OpÈ›iune 3",
          "OpÈ›iune 4 (corect)"
        ],
        correctIndex: 3
      }
    ];

    // cÃ¢nd faci etapa 3, schimbÄƒ URL-ul de mai jos:
    const NEXT_STAGE_URL = "runda3.html"; // placeholder deocamdatÄƒ

    const qCounter = document.getElementById("qCounter");
    const scoreLabel = document.getElementById("scoreLabel");
    const questionText = document.getElementById("questionText");
    const optionsContainer = document.getElementById("optionsContainer");
    const messageBox = document.getElementById("messageBox");
    const nextBtn = document.getElementById("nextBtn");
    const finalBox = document.getElementById("finalBox");
    const continueBtn = document.getElementById("continueBtn");
    const timerLabel = document.getElementById("timerLabel");
    const timerValue = document.getElementById("timerValue");

    let currentIndex = 0;
    let score = 0;
    let answered = false;
    let timer = 10;
    let timerInterval = null;

    function resetTimer() {
      clearInterval(timerInterval);
      timer = 10;
      timerValue.textContent = timer;
      timerLabel.classList.remove("critical");
      timerLabel.classList.add("normal");

      timerInterval = setInterval(() => {
        timer--;
        if (timer <= 3) {
          timerLabel.classList.remove("normal");
          timerLabel.classList.add("critical");
        }
        if (timer <= 0) {
          timer = 0;
          timerValue.textContent = timer;
          clearInterval(timerInterval);
          handleTimeout();
        } else {
          timerValue.textContent = timer;
        }
      }, 1000);
    }

    function renderQuestion() {
      const q = questions[currentIndex];
      qCounter.textContent = `ÃŽntrebarea ${currentIndex + 1} / ${questions.length}`;
      questionText.textContent = q.text;
      optionsContainer.innerHTML = "";
      messageBox.textContent = "Alege un rÄƒspuns.";
      nextBtn.disabled = true;
      answered = false;

      q.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.className = "option";
        btn.textContent = opt;
        btn.addEventListener("click", () => handleAnswer(btn, index));
        optionsContainer.appendChild(btn);
      });

      resetTimer();
    }

    function lockOptionsAndShowCorrect() {
      const q = questions[currentIndex];
      const buttons = optionsContainer.querySelectorAll(".option");
      buttons.forEach((b, i) => {
        b.disabled = true;
        b.style.cursor = "default";
        if (i === q.correctIndex) b.classList.add("correct");
      });
    }

    function handleAnswer(button, index) {
      if (answered) return;
      answered = true;
      clearInterval(timerInterval);

      const q = questions[currentIndex];
      const buttons = optionsContainer.querySelectorAll(".option");
      buttons.forEach((b, i) => {
        b.disabled = true;
        b.style.cursor = "default";
        if (i === q.correctIndex) b.classList.add("correct");
      });

      if (index === q.correctIndex) {
        score++;
        messageBox.textContent = "Corect.";
      } else {
        button.classList.add("wrong");
        messageBox.textContent = "Nu e corect. ContinuÄƒ.";
      }

      scoreLabel.textContent = `Scor: ${score}`;
      nextBtn.disabled = false;
    }

    function handleTimeout() {
      if (answered) return;
      answered = true;
      lockOptionsAndShowCorrect();
      messageBox.textContent = "Timpul a expirat. RÄƒspunsul corect este evidenÈ›iat.";
      nextBtn.disabled = false;
    }

    nextBtn.addEventListener("click", () => {
      clearInterval(timerInterval);
      currentIndex++;
      if (currentIndex < questions.length) {
        renderQuestion();
      } else {
        document.querySelector(".question-box").style.display = "none";
        finalBox.style.display = "block";
      }
    });

    continueBtn.addEventListener("click", () => {
      window.location.href = NEXT_STAGE_URL;
    });

    // start
    renderQuestion();
  </script>
</body>
</html>
